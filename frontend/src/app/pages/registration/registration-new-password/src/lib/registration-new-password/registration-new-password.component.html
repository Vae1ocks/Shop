<h3 class="h3 auth-heading">Создание пароля</h3>

<p class="auth-text">Придумайте пароль</p>

<form class="flex flex-col" [formGroup]="formGroup" (ngSubmit)="submit()">
  <div class="input-field relative">
    <input
      class="w-full"
      name="password"
      formControlName="password"
      placeholder="Пароль"
      required
      [type]="showPassword ? 'text' : 'password'"
    />

    <svg-icon
      class="eye-icon"
      src="/assets/icons/eye.svg"
      [class.eye-icon_active]="showPassword"
      (click)="showPassword = !showPassword"
    />
  </div>

  <span class="form-field-hint">Обязательное поле для заполнения</span>

  <div class="input-field relative">
    <input
      class="w-full"
      name="confirmPassword"
      formControlName="password2"
      placeholder="Повторите пароль"
      required
      [type]="showConfirmPassword ? 'text' : 'password'"
    />

    <svg-icon
      class="eye-icon"
      src="/assets/icons/eye.svg"
      [class.eye-icon_active]="showConfirmPassword"
      (click)="showConfirmPassword = !showConfirmPassword"
    />
  </div>

  <span class="form-field-hint">Обязательное поле для заполнения</span>

  <app-button
    class="auth-button"
    type="submit"
    [loading]="loading$$()"
    [disabled]="isButtonDisabled$$() || showError$$()"
  >
    Подтвердить
  </app-button>

  @if (formGroup.get('confirmPassword')?.errors?.['fieldsMustMatch']) {
    <p class="form-error-text mt-1">Пароли должны совпадать</p>
  }
</form>
