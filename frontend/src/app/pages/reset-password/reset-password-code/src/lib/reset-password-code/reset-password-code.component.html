<h3 class="h3 auth-heading">Код подтверждения</h3>

<p class="auth-text">Мы отправили код на вашу почту</p>

<div class="relative">
  <code-input
    class="code-input"
    [class.code-input_error]="showError$$()"
    [codeLength]="CODE_LENGTH"
    (codeChanged)="onCodeChanged($event)"
  />

  @if (showError$$()) {
    <p class="code-error">Неверный код</p>
  }
</div>

<div class="timer flex justify-center">
  @if (isTimerFinished$$()) {
    <button type="button" class="resend-button" (click)="resendCode()">
      Повторно отправить код
    </button>
  } @else {
    <app-countdown
      [seconds]="300"
      [start]="startTimer$$()"
      (isFinished)="timerFinished()"
    />
  }
</div>

<app-button
  [loading]="loading$$()"
  [disabled]="isSubmitButtonDisabled$$()"
  (click)="submit()"
>
  Отправить код
</app-button>

<app-button (click)="previousStep()"> Вернуться </app-button>

<p class="auth-text-hint">
  Если не приходит код, проверьте корректность введённой почты
</p>
